<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MCA Notes by Arvind Sahu | Dr. Ram Manohar Lohia Avadh University, Ayodhya</title>
  <meta name="description" content="Buy well-structured MCA Semester 1 notes (PDF) by Arvind Sahu for Dr. Ram Manohar Lohia Avadh University, Ayodhya. Secure checkout via Razorpay or UPI." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
  <!-- Coolors Palette Widget -->
  <script src="https://coolors.co/palette-widget/widget.js"></script>
  <script data-id="06187104681648911">new CoolorsPaletteWidget("06187104681648911", ["003049","d62828","f77f00","fcbf49","eae2b7"]); </script>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='16' fill='%232c3e50'/%3E%3Ctext x='50' y='62' text-anchor='middle' font-size='56' font-family='Arial' fill='white'%3EMS%3C/text%3E%3C/svg%3E"/>
  <style>
    :root {
      --bg: #f9fafb;
      --card: #ffffff;
      --ink: #1e293b;
      --muted: #64748b;
      --brand: #0ea5e9;
      --accent: #ef4444;
      --secondary: #f97316;
      --tertiary: #fbbf24;
      --ring: rgba(14, 165, 233, 0.3);
      --shadow: rgba(0, 0, 0, 0.1);
    }
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      height: 100%;
      font-family: 'Quicksand', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      color: var(--ink);
      background: var(--bg);
      -webkit-font-smoothing: antialiased;
      scroll-behavior: smooth;
    }
    h1, h2, h3, h4, .title {
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      color: var(--brand);
      margin-top: 0;
      margin-bottom: 0.5rem;
    }
    a {
      color: var(--brand);
      text-decoration: none;
      transition: color 0.3s ease;
    }
    a:hover, a:focus {
      color: var(--accent);
      outline: none;
    }

    /* Quicksand font class */
    .quicksand-unique {
      font-family: "Quicksand", sans-serif;
      font-optical-sizing: auto;
      font-weight: 400;
      font-style: normal;
    }

    /* Layout container */
    .container{max-width:1100px;margin-inline:auto;padding:20px}

    /* Header / topbar */
    header{background:linear-gradient(135deg,#003049,#001c30);color:#fff}
    .topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:16px;flex-wrap:wrap}
    @media (max-width: 520px) {
      .topbar {
        flex-wrap: nowrap;
      }
      .brand {
        flex: 1 1 auto;
      }
      .cart-btn {
        order: 2;
        margin-left: auto;
      }
    }
    .brand{display:flex;gap:12px;align-items:center;min-width:0}
    .brand-logo{width:44px;height:44px;border-radius:10px;background:rgba(255,255,255,0.06);display:grid;place-items:center;font-weight:700}
    .brand h1{margin:0;font-size:18px;line-height:1}
    .brand small{display:block;color:#cbd5e1;font-size:13px}

    /* Cart button */
    .cart-btn{appearance:none;border:0;background:transparent;color:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;display:flex;gap:8px;align-items:center;font-weight:700}
    .cart-btn:hover{background:rgba(255,255,255,0.03)}

    /* Hero */
    .hero{padding:18px 20px 28px}
    .hero h2{margin:0 0 8px;font-size:26px}
    .hero p{margin:0;color:#cbd5e1}
    .hero .cta{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}

    .btn{appearance:none;border:0;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:600}
    .btn-primary{background:var(--accent);color:#fff}
    .btn-ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.06)}

    /* Sections */
    .section{padding:12px 0 28px}
    .section h3{margin:0 0 12px;font-size:20px}

    /* Product grid ‚Äì responsive: 1 column mobile, 2 tablet, 3 desktop */
    .grid{display:grid;grid-template-columns:repeat(1,1fr);gap:16px}
    @media(min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}}

    .card{background:var(--card);border-radius:12px;box-shadow:0 8px 20px rgba(2,6,23,.06);border:1px solid #e6eef6;overflow:hidden;display:flex;flex-direction:column}
    .card-inner{padding:14px;display:flex;flex-direction:column;gap:10px;flex:1}
    .badge{display:inline-block;background:#e6f6ff;color:#0369a1;padding:4px 10px;border-radius:999px;font-size:12px}
    .title{font-weight:700;font-size:15px}
    .muted{color:var(--muted);font-size:13px}
    .price{margin-left:auto;font-weight:800}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}

    .actions{display:flex;gap:8px;margin-top:auto}
    .actions .btn{flex:1;padding:10px;border-radius:10px}

    /* Make action buttons stack on small screens */
    @media(max-width:520px){
      .actions{flex-direction:column}
      .actions .btn{width:100%}
    }

    .infobar{background:#ecfeff;border:1px solid #bae6fd;padding:12px;border-radius:10px;margin:10px 0}

    /* Cart Drawer (div-based) */
    .drawer{position:fixed;inset:0;display:none;z-index:1100}
    .drawer.open{display:block}
    .backdrop{position:absolute;inset:0;background:rgba(2,6,23,.45);z-index:1100}
    .panel{position:absolute;right:0;top:0;height:100%;width:420px;max-width:100%;background:#fff;border-left:1px solid #e9eef6;display:flex;flex-direction:column;transform:translateX(100%);transition:transform .28s ease;z-index:1110}
    .drawer.open .panel{transform:translateX(0)}

    .panel header{background:#fff;color:var(--ink);border-bottom:1px solid #f1f5f9}
    .panel header .topbar{padding:12px 14px;display:flex;align-items:center;justify-content:space-between}
    .panel h4{margin:0;font-size:16px}
    .panel .content{padding:14px;display:flex;flex-direction:column;gap:12px;overflow:auto}
    .line{display:flex;gap:8px;align-items:center}
    .line strong{flex:1;font-size:14px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{padding:6px 10px;border-radius:8px;border:1px solid #e5e7eb;background:#f8fafc;cursor:pointer}
    .totals{margin-top:8px;border-top:1px dashed #e5e7eb;padding-top:8px}
    .checkout{display:flex;flex-direction:column;gap:8px}
    .field{display:flex;flex-direction:column;gap:6px}
    .field label{font-size:13px;color:#374151}
    .field input{padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;outline:none}
    .field input:focus{box-shadow:0 6px 18px var(--ring);border-color:#93c5fd}
    .tiny{font-size:12px;color:var(--muted)}
    .divider{height:1px;background:#e5e7eb;margin:8px 0}

    /* Make drawer full-screen on small devices */
    @media(max-width:520px){
      .panel{width:100%;right:0}
      .panel .topbar{padding:10px}
      .panel .content{padding:12px}
    }

    /* Footer */
    footer{background:#071023;color:#cbd5e1;margin-top:28px}
    footer .container{padding-top:20px;padding-bottom:20px}
    .cols{display:grid;grid-template-columns:repeat(1,1fr);gap:12px}
    @media(min-width:800px){.cols{grid-template-columns:repeat(3,1fr)}}
    .legal{font-size:12px;color:#98a3b3;margin-top:12px}

    /* Small helpers */
    .muted small{font-size:12px}
  
    /* Animated Ad Banner with Continuous Running Animation */
    .animated-ad {
      position: relative;
      background: linear-gradient(135deg, #0ea5e9, #8b5cf6);
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 16px;
      margin: 20px 0;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(14, 165, 233, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }
    
    .animated-ad::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 60%);
      animation: glow 4s ease-in-out infinite;
    }
    
    .animated-ad::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: shimmer 3s ease-in-out infinite;
    }
    
    .ad-text {
      position: relative;
      z-index: 2;
      font-weight: 600;
      font-size: 18px;
      line-height: 1.4;
    }
    
    .ad-line-1 {
      display: block;
      animation: pulseGlow 2s ease-in-out infinite;
      margin-bottom: 8px;
      text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }
    
    .ad-line-2 {
      display: block;
      animation: slideBounce 3s ease-in-out infinite;
      font-size: 16px;
      opacity: 0.9;
      text-shadow: 0 0 8px rgba(255,255,255,0.2);
    }
    
    @keyframes glow {
      0%, 100% { transform: rotate(0deg) scale(1); opacity: 0.6; }
      50% { transform: rotate(180deg) scale(1.2); opacity: 0.8; }
    }
    
    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }
    
    @keyframes pulseGlow {
      0%, 100% { 
        transform: scale(1); 
        text-shadow: 0 0 10px rgba(255,255,255,0.3);
      }
      50% { 
        transform: scale(1.05); 
        text-shadow: 0 0 20px rgba(255,255,255,0.6), 0 0 30px rgba(255,255,255,0.4);
      }
    }
    
    @keyframes slideBounce {
      0%, 100% { 
        transform: translateX(0) scale(1);
        text-shadow: 0 0 8px rgba(255,255,255,0.2);
      }
      25% { 
        transform: translateX(-5px) scale(1.02);
        text-shadow: 0 0 12px rgba(255,255,255,0.3);
      }
      75% { 
        transform: translateX(5px) scale(1.02);
        text-shadow: 0 0 12px rgba(255,255,255,0.3);
      }
    }

    /* Policy cards (Refund & Privacy) */
    .policy-grid{display:grid;gap:16px;margin-top:8px}
    @media(min-width:800px){.policy-grid{grid-template-columns:1fr 1fr}}
    .policy-card{background:linear-gradient(180deg,#ffffff,#fbfdff);border:1px solid #e6eef6;padding:16px;border-radius:12px;box-shadow:0 8px 20px rgba(2,6,23,.04)}
    .policy-card h4{margin:0 0 8px;font-size:18px}
    .policy-card .meta{color:var(--muted);font-size:13px;margin-bottom:8px}
    .policy-list{margin:8px 0 12px;padding-left:18px}
    .policy-cta{display:flex;gap:8px;flex-wrap:wrap}
    .policy-cta a{padding:10px 12px;border-radius:10px;text-decoration:none;font-weight:600}
    .btn-primary-ghost{background:#0ea5e9;color:#fff}
    .btn-outline{background:transparent;border:1px solid #e6eef6;color:var(--ink)}
    .small-note{font-size:13px;color:var(--muted);margin-top:10px}
    details.policy-details summary{font-weight:700;cursor:pointer;margin-bottom:6px}
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Store",
    "name": "MCA Notes by Arvind Sahu",
    "url": "",
    "image": "",
    "description": "MCA notes (PDF) for Dr. Ram Manohar Lohia Avadh University, Ayodhya.",
    "sameAs": [],
    "address": {"@type":"PostalAddress","addressCountry":"IN"},
    "makesOffer": [
      {"@type":"Offer","priceCurrency":"INR","price":"11","itemOffered":{"@type":"Product","name":"MCA 101 - Programming in C & Data Structure"}},
      {"@type":"Offer","priceCurrency":"INR","price":"11","itemOffered":{"@type":"Product","name":"MCA 102 - Computer Organization & Architecture"}}
    ]
  }
  </script>
</head>
<body>
  <header>
    <div class="topbar container">
      <div class="brand">
        <div class="brand-logo" aria-hidden="true">üìù</div>
        <div>
          <small>Dr. Ram Manohar Lohia Avadh University, Ayodhya</small>
        </div>
      </div>
      <button class="cart-btn" id="openCart" aria-label="Open cart">üõí <span id="cartCount">0</span></button>
    </div>
    <div class="hero container">
      <h2>Well‚Äëstructured MCA Semester 1 Notes (PDF)</h2>
      <p>Clear theory ‚Ä¢ Exam‚Äëoriented ‚Ä¢ Instant access after payment</p>
      <div class="cta">
        <a class="btn btn-primary" href="#products">Browse Notes</a>
        <a class="btn btn-ghost" href="#contact">Contact</a>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="animated-ad">
      <div class="ad-text">
        <span class="ad-line-1">üéâ All MCA Notes are FREE ‚Äì you just pay ‚Çπ11 only as a small platform fee.</span>
        <span class="ad-line-2">Get instant access to all documents in one place after payment.</span>
      </div>
    </div>
    <div class="infobar">üí° Tip: Click a title to preview the file. Use <strong>Add to Cart</strong> to purchase securely via Razorpay or UPI.</div>

    <section id="products" class="section">
      <h3>Available Notes (PDF)</h3>
      <div class="grid" id="productGrid"><!-- cards injected by JS --></div>
    </section>

    <section class="section" id="faq">
      <h3>FAQ</h3>
      <details open>
        <summary>How do I receive the PDF after payment?</summary>
        <p>Right now delivery is manual: after successful payment, you will see a success screen and also receive a WhatsApp confirmation. The PDF(s) will be shared to your WhatsApp/email within a few minutes using the details you enter at checkout.</p>
      </details>
      <details>
        <summary>Can I pay with UPI?</summary>
        <p>Yes, choose the UPI option at checkout. It opens a UPI link with the exact amount. After payment, tap <em>"I have paid"</em> to confirm.</p>
      </details>
      <details>
        <summary>Refunds</summary>
        <p>If you paid but didn‚Äôt receive the notes, message on WhatsApp with your phone number and payment reference. 100% refund if we can‚Äôt deliver within 24 hours.</p>
      </details>
    </section>
  </main>

  <!-- Cart Drawer (div-based) -->
  <div class="drawer" id="cartDrawer" aria-label="Shopping cart">
    <div class="backdrop" data-close></div>
    <div class="panel">
      <header>
        <div class="topbar">
          <div style="display:flex;align-items:center;gap:8px;min-width:0">
            <button class="back-btn" id="mobileBackBtn" aria-label="Back" title="Back">‚Üê</button>
            <h4 style="margin:0">üõí Your Cart</h4>
          </div>
          <button class="cart-btn" data-close>Close ‚úï</button>
        </div>
      </header>
      <div class="content">
        <div id="cartLines"><!-- items --></div>
        <div class="totals">
          <div class="line"><strong>Subtotal</strong><span id="subtotal">‚Çπ0</span></div>
          <div class="line"><span class="muted tiny">GST included (if applicable)</span></div>
        </div>
        <div class="divider"></div>
        <div class="checkout">
          <div class="field">
            <label for="buyerName">Your name</label>
            <input id="buyerName" placeholder="e.g., Arvind Sahu"/>
          </div>
          <div class="field">
            <label for="buyerPhone">WhatsApp number</label>
            <input id="buyerPhone" placeholder="10‚Äëdigit mobile"/>
          </div>
          <div class="field">
            <label for="buyerEmail">Email (optional)</label>
            <input id="buyerEmail" placeholder="name@example.com"/>
          </div>
          <button class="btn btn-primary" id="payRzp">Pay with Razorpay</button>
          <button class="btn" id="payUpi" style="background:#10b981;color:#fff">Pay with UPI</button>
          <button class="btn" id="whOrder" style="background:#25D366;color:#fff">Order on WhatsApp</button>
          <p class="tiny">By paying, you agree to our <a href="#policies">Terms, Privacy & Refund Policy</a>.</p>
        </div>
      </div>
    </div>
  </div>

  <footer id="policies">
    <div class="container cols">
      <div class="col">
        <h4>About</h4>
        <p>MCA notes prepared by <strong>Arvind Sahu</strong> for <em>Dr. Ram Manohar Lohia Avadh University, Ayodhya</em>. Concise, exam‚Äëoriented PDFs for Semester 1.</p>
      </div>
      <div class="col">
        <h4>Policies</h4>
        <ul>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#refund">Refund Policy</a></li>
          <li><a href="#privacy">Privacy</a></li>
        </ul>
      </div>
      <div class="col" id="contact">
        <h4>Contact</h4>
        <p><strong>Name:</strong> Arvind Sahu</p>
        <p><strong>Phone/WhatsApp:</strong> <a href="https://wa.me/918299243030" target="_blank" rel="noopener">+91 8299243030</a></p>
        <p><strong>Email:</strong> <a href="mailto:engravi13@example.com">engravi13@example.com</a></p>
      </div>
    </div>
    <div class="container legal">¬© <span id="yr"></span> Arvind Sahu ¬∑ MCA Notes ¬∑ All rights reserved.</div>
  </footer>

  <!-- Razorpay Checkout (replace test key) -->
  <script src="https://checkout.razorpay.com/v1/checkout.js" defer></script>
  <script>
    // ====== PRODUCT DATA ======
    const PRODUCTS = [
      {id:'mca101', title:'MCA 101 - Programming in C & Data Structure', file:'MCA 101.pdf', price:11},
      {id:'mca102', title:'MCA 102 - Computer Organization & Architecture', file:'MCA 102.pdf', price:11},
      {id:'mca103', title:'MCA 103 - Object Oriented System with C++', file:'MCA 103.pdf', price:11},
      {id:'mca104', title:'MCA 104 - Operating Systems', file:'MCA 104.pdf', price:11},
      {id:'mca105', title:'MCA 105 - Programming with MATLAB', file:'MCA 105.pdf', price:11},
      {id:'mca106', title:'MCA 106 - Cyber Security & Information System', file:'MCA 106.pdf', price:11},
      {id:'sem1', title:'Semester 1 - Subject Details', file:'MCA_Sem1_Details.pdf', price:1}
    ];

    const formatINR = n => `‚Çπ${n.toLocaleString('en-IN')}`;

    // ====== RENDER PRODUCTS ======
    const grid = document.getElementById('productGrid');
    grid.innerHTML = PRODUCTS.map(p => `
      <article class="card" data-id="${p.id}">
        <div class="card-inner" style="background:#f9fcff; border-radius:12px; padding:16px; display:flex; flex-direction:column; gap:12px;">
          <span class="badge" style="background:#d9f0ff; color:#3a8edc; font-weight:600; font-size:12px; padding:6px 12px; border-radius:9999px; width:fit-content;">PDF</span>
          <div class="title" style="font-weight:700; font-size:18px; color:#0a3d62;">${p.title}</div>
          <div class="price" style="font-weight:700; font-size:16px; color:#000; align-self:flex-end;">${formatINR(p.price)}</div>
          <div class="muted" style="color:#64748b; font-size:14px;">University: Dr. Ram Manohar Lohia Avadh University, Ayodhya</div>
          <div class="actions" style="display:flex; flex-direction:column; gap:8px;">
            <a class="btn" href="${encodeURI(p.file)}" target="_blank" rel="noopener" style="background:#d9f0ff; color:#3a8edc; font-weight:600; padding:10px 0; border-radius:12px; text-align:center;">Preview</a>
            <button class="btn btn-primary" data-add="${p.id}" style="background:#ef4444; color:#fff; font-weight:700; padding:12px 0; border-radius:12px; width:100%;">Add to Cart</button>
          </div>
        </div>
      </article>
    `).join('');

    // ====== CART LOGIC ======
    const state = { cart: JSON.parse(localStorage.getItem('mca_cart')||'{}') };
    const cartCount = () => Object.values(state.cart).reduce((a,b)=>a+b,0);
    const cartTotal = () => Object.entries(state.cart).reduce((sum,[id,qty]) => {
      const p = PRODUCTS.find(x=>x.id===id); return sum + (p?p.price*qty:0);
    },0);
    const saveCart = () => localStorage.setItem('mca_cart', JSON.stringify(state.cart));

    function addToCart(id){ state.cart[id] = (state.cart[id]||0)+1; saveCart(); refreshCartUI(); }
    function changeQty(id,delta){ state.cart[id] = Math.max(0,(state.cart[id]||0)+delta); if(state.cart[id]===0) delete state.cart[id]; saveCart(); refreshCartUI(); }

    document.body.addEventListener('click',e=>{
      const add = e.target.closest('[data-add]');
      if(add){ addToCart(add.getAttribute('data-add')); openCart(); }
      if(e.target.matches('[data-close]')) closeCart();
    });

    // ====== CART UI ======
    const drawer = document.getElementById('cartDrawer');
    const btnOpen = document.getElementById('openCart');
    const subtotalEl = document.getElementById('subtotal');

    function openCart(){
      if (!drawer.classList.contains('open')){
        drawer.classList.add('open');
        document.body.style.overflow = 'hidden';
        try{ history.pushState({cartOpen:true}, '', '#cart'); }catch(e){}
      }
    }
    function closeCart(){
      if(!drawer.classList.contains('open')) return;
      closeCartWithoutHistory();
      if (history.state && history.state.cartOpen){ try{ history.back(); }catch(e){} }
    }
    function closeCartWithoutHistory(){
      drawer.classList.remove('open');
      document.body.style.overflow = 'auto';
    }
    // Close cart on browser back (mobile hardware back)
    window.addEventListener('popstate', function(e){
      if (drawer.classList.contains('open')){
        // popstate already fired because history was popped; just close without touching history
        closeCartWithoutHistory();
      }
    });
    // Mobile back button inside the cart (if present)
    const mobileBackBtn = document.getElementById('mobileBackBtn');
    if(mobileBackBtn) mobileBackBtn.addEventListener('click', closeCart);
    btnOpen.addEventListener('click', openCart);

    function refreshCartUI(){
      document.getElementById('cartCount').textContent = cartCount();
      subtotalEl.textContent = formatINR(cartTotal());
      const lines = Object.entries(state.cart);
      const wrap = document.getElementById('cartLines');
      if(!lines.length){
        wrap.innerHTML = '<p class="muted">Your cart is empty.</p>';
        return;
      }
      wrap.innerHTML = lines.map(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        return `
          <div class="line">
            <strong>${p.title}</strong>
            <div class="qty">
              <button data-q="-1" data-id="${id}">‚àí</button>
              <span>${qty}</span>
              <button data-q="1" data-id="${id}">+</button>
            </div>
            <span>${formatINR(p.price*qty)}</span>
          </div>`;
      }).join('');
      // bind qty buttons
      wrap.querySelectorAll('[data-q]').forEach(btn=>{
        btn.addEventListener('click',()=>changeQty(btn.getAttribute('data-id'), Number(btn.getAttribute('data-q'))));
      });
    }

    refreshCartUI();

    // ====== CHECKOUT ======
    const payBtn = document.getElementById('payRzp');
    const payUpi = document.getElementById('payUpi');
    const whOrder = document.getElementById('whOrder');
    const nameEl = document.getElementById('buyerName');
    const phoneEl = document.getElementById('buyerPhone');
    const emailEl = document.getElementById('buyerEmail');

    function orderSummary(){
      const items = Object.entries(state.cart).map(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id); return `${p.title} x ${qty}`;
      }).join(', ');
      return items || 'No items';
    }

    function requireBuyer(){
      const name = nameEl.value.trim();
      const phone = phoneEl.value.trim();
      if(!name){ alert('Please enter your name.'); return false; }
      if(!/^\d{10}$/.test(phone)){ alert('Enter 10‚Äëdigit WhatsApp number.'); return false; }
      if(cartTotal()<=0){ alert('Add at least one item to cart.'); return false; }
      return true;
    }

    // Razorpay
    payBtn.addEventListener('click', () => {
      if(!requireBuyer()) return;
      const amt = cartTotal();
      const options = {
        key: 'rzp_live_RBJaxmEYO97anX', // TODO: replace with your Razorpay Key ID
        amount: amt * 100,
        currency: 'INR',
        name: 'MCA Notes by Arvind Sahu',
        description: orderSummary(),
        prefill: { name: nameEl.value, email: emailEl.value, contact: '+91'+phoneEl.value },
        theme: { color: '#0ea5e9' },
        handler: function (response) {
          // Success callback
          const msg = `Payment Success!\nRazorpay Payment ID: ${response.razorpay_payment_id}\nOrder: ${orderSummary()}\nBuyer: ${nameEl.value} (+91${phoneEl.value})`;
          alert(msg + '\n\nWe\'ll deliver your PDFs on WhatsApp/email shortly.');
          // Optional: open WhatsApp with order details
          const text = encodeURIComponent(`Paid via Razorpay\nName: ${nameEl.value}\nPhone: +91${phoneEl.value}\nEmail: ${emailEl.value}\nItems: ${orderSummary()}\nAmount: ${formatINR(amt)}\nRazorpay Payment ID: ${response.razorpay_payment_id}`);
          window.open(`https://wa.me/918299243030?text=${text}`,'_blank');
          closeCart();
        }
      };
      if(typeof Razorpay === 'undefined'){ alert('Razorpay SDK not loaded yet. Please try again in 2‚Äì3 seconds.'); return; }
      const rzp = new Razorpay(options);
      rzp.open();
    });

    // UPI Deep Link (no SDK)
    payUpi.addEventListener('click', () => {
      if(!requireBuyer()) return;
      const amt = cartTotal();
      // Replace with your actual UPI ID & name
      const upiId = 'sahuarvind28804@okaxis';
      const upiName = 'Arvind Sahu';
      const note = encodeURIComponent('MCA Notes Purchase');
      const link = `upi://pay?pa=${encodeURIComponent(upiId)}&pn=${encodeURIComponent(upiName)}&am=${encodeURIComponent(amt)}&cu=INR&tn=${note}`;
      // Try to open UPI app
      window.location.href = link;
      setTimeout(()=>{
        const confirmPaid = confirm('After completing payment in your UPI app, click OK to confirm.');
        if(confirmPaid){
          const text = encodeURIComponent(`Paid via UPI\nName: ${nameEl.value}\nPhone: +91${phoneEl.value}\nEmail: ${emailEl.value}\nItems: ${orderSummary()}\nAmount: ${formatINR(amt)}\nUPI ID used: ${upiId}`);
          window.open(`https://wa.me/918299243030?text=${text}`,'_blank');
          alert('Thanks! We\'ll deliver your PDFs on WhatsApp/email shortly.');
          closeCart();
        }
      }, 1200);
    });

    // WhatsApp order (Cash/Manual)
    whOrder.addEventListener('click', () => {
      if(!requireBuyer()) return;
      const amt = cartTotal();
      const text = encodeURIComponent(`I want to order MCA Notes (Manual).\nName: ${nameEl.value}\nPhone: +91${phoneEl.value}\nEmail: ${emailEl.value}\nItems: ${orderSummary()}\nTotal: ${formatINR(amt)}`);
      window.open(`https://wa.me/918299243030?text=${text}`,'_blank');
    });

    // Footer year
    document.getElementById('yr').textContent = new Date().getFullYear();
  </script>

  <!-- Policies: Refund & Privacy (improved UI) -->
  <section class="container section" id="policies-grid">
    <h3>Policies</h3>
    <div class="policy-grid">
      <div class="policy-card" id="refund">
        <h4>Refund Policy</h4>
        <div class="meta">üì¶ Delivery within 24 hours via WhatsApp/email after payment.</div>
        <ul class="policy-list">
          <li> If not delivered, you get a full refund.</li>
          <li> Request via WhatsApp +91 8299243030 with your payment ID.</li>
          <li> Refunds processed within 3‚Äì5 business days.</li>
        </ul>
      </div>

      <div class="policy-card" id="privacy">
        <h4>Privacy Policy</h4>
        <div class="meta">üîí We only collect your name, WhatsApp number, and email (optional).</div>
        <ul class="policy-list">
          <li> Used only to deliver your notes and support refunds.</li>
          <li> Data is kept for 90 days, then deleted.</li>
          <li> Payments are securely handled by Razorpay ‚Äî we never see card/UPI details.</li>
          <li> Your data is never shared or sold.</li>
        </ul>
      </div>
    </div>
  </section>
</body>
</html>
